<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>EcoFix â€“ Sustainable Repair Solutions</title>
<style>
  :root {
    --green: #2e7d32;
    --green-dark: #236127;
    --accent: #43a047;
    --bg: #f0f8f5;
  }

  body {
    font-family: "Segoe UI", sans-serif;
    margin: 0;
    background: var(--bg);
    color: #222;
  }

  header {
    background: var(--green);
    color: white;
    padding: 1rem 2rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  header img {
    height: 50px;
    border-radius: 8px;
  }

  nav a {
    color: white;
    text-decoration: none;
    margin: 0 10px;
    font-weight: 500;
  }

  nav a:hover {
    text-decoration: underline;
  }

  main {
    padding: 2rem;
  }

  section {
    display: none;
  }

  section.active {
    display: block;
  }

  h1, h2 {
    color: var(--green-dark);
  }

  .product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
    gap: 1rem;
  }

  .product {
    background: white;
    padding: 1rem;
    border-radius: 12px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    text-align: center;
  }

  .product img {
    width: 100%;
    height: 180px;
    object-fit: cover;
    border-radius: 10px;
  }

  button {
    background: var(--green);
    color: white;
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
  }

  button:hover {
    background: var(--green-dark);
  }

  .cart-item, .receipt {
    background: white;
    padding: 1rem;
    margin-bottom: 0.5rem;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  }

  .chat-box {
    background: white;
    border-radius: 12px;
    padding: 1rem;
    height: 400px;
    overflow-y: auto;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }

  .chat-input {
    margin-top: 10px;
    display: flex;
  }

  .chat-input input {
    flex: 1;
    padding: 0.5rem;
    border-radius: 8px 0 0 8px;
    border: 1px solid #ccc;
  }

  .chat-input button {
    border-radius: 0 8px 8px 0;
  }

  .typing-dot {
    display: inline-block;
    width: 6px;
    height: 6px;
    margin: 0 2px;
    background: #999;
    border-radius: 50%;
    animation: blink 1s infinite alternate;
  }

  @keyframes blink {
    from { opacity: 0.2; }
    to { opacity: 1; }
  }

  footer {
    background: var(--green-dark);
    color: white;
    text-align: center;
    padding: 1rem;
    margin-top: 2rem;
  }
</style>
</head>
<body>

<header>
  <div style="display:flex;align-items:center;gap:10px;">
    <img src="https://i.imgur.com/zq8uWkJ.png" alt="EcoFix Logo">
    <h2>EcoFix</h2>
  </div>
  <nav>
    <a href="#" onclick="showPage('home')">Home</a>
    <a href="#" onclick="showPage('shop')">Shop</a>
    <a href="#" onclick="showPage('assistant')">AI Assistant</a>
    <a href="#" onclick="showPage('orders')">Orders</a>
    <a href="#" onclick="showPage('contact')">Contact</a>
  </nav>
</header>

<main>
  <!-- Home -->
  <section id="home" class="active">
    <h1>Welcome to EcoFix</h1>
    <p>We provide sustainable repair solutions using eco-friendly materials like bamboo, fly ash concrete, and recycled aggregates. Join us in building a greener future.</p>
  </section>

  <!-- Shop -->
  <section id="shop">
    <h2>Shop Sustainable Materials</h2>
    <div class="product-grid">
      <div class="product">
        <img src="https://i.imgur.com/EFwkpGj.jpg" alt="Fly Ash Concrete">
        <h3>Fly Ash Concrete</h3>
        <p>Durable and eco-friendly alternative to standard concrete.</p>
        <p><strong>â‚±350 / bag</strong></p>
        <button onclick="addToCart('Fly Ash Concrete', 350)">Add to Cart</button>
      </div>
      <div class="product">
        <img src="https://i.imgur.com/Z7wA8vL.jpg" alt="Recycled Aggregates">
        <h3>Recycled Aggregates</h3>
        <p>High-quality materials from repurposed construction waste.</p>
        <p><strong>â‚±280 / sack</strong></p>
        <button onclick="addToCart('Recycled Aggregates', 280)">Add to Cart</button>
      </div>
      <div class="product">
        <img src="https://i.imgur.com/a2IQShK.jpg" alt="Bamboo Reinforcement">
        <h3>Bamboo Reinforcement</h3>
        <p>Renewable substitute for steel reinforcements in repairs.</p>
        <p><strong>â‚±220 / unit</strong></p>
        <button onclick="addToCart('Bamboo Reinforcement', 220)">Add to Cart</button>
      </div>
    </div>
  </section>

  <!-- AI Assistant -->
  <section id="assistant">
    <h2>EcoFix AI Assistant</h2>
    <div class="chat-box" id="chatBox">
      <p><strong>EcoFix Assistant:</strong> Hi there! How can I assist you today? ðŸ˜Š</p>
    </div>
    <div class="chat-input">
      <input id="chatInput" placeholder="Type your question..." />
      <button onclick="sendChat()">Send</button>
    </div>
  </section>

  <!-- Orders -->
  <section id="orders">
    <h2>Your Orders</h2>
    <div id="cartItems"></div>
    <button onclick="checkout()">Confirm Order</button>
    <h3>Receipt</h3>
    <div id="receipt"></div>
    <h3>Need a Refund?</h3>
    <button onclick="refundOrder()">Request Refund</button>
    <div id="refundMessage" style="margin-top:10px;"></div>
  </section>

  <!-- Contact -->
  <section id="contact">
    <h2>Contact Us</h2>
    <p>Email: ecofix.ph@gmail.com</p>
    <p>Phone: +63 912 345 6789</p>
    <p>Address: Quezon City, Metro Manila</p>
  </section>
</main>

<footer>
  <p>Â© 2025 EcoFix. Building a Greener Tomorrow.</p>
</footer>

<script>
let cart = [];

// Navigation
function showPage(id) {
  document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

// Cart functions
function addToCart(item, price) {
  cart.push({ item, price });
  alert(item + " added to cart!");
  renderCart();
}

function renderCart() {
  const container = document.getElementById("cartItems");
  container.innerHTML = "";
  cart.forEach(c => {
    container.innerHTML += `<div class="cart-item">${c.item} â€“ â‚±${c.price}</div>`;
  });
}

function checkout() {
  if (cart.length === 0) {
    alert("Your cart is empty!");
    return;
  }
  let total = cart.reduce((sum, c) => sum + c.price, 0);
  const receipt = `
    <div class="receipt">
      <p><strong>EcoFix Order Receipt</strong></p>
      <p>Items: ${cart.map(c => c.item).join(", ")}</p>
      <p>Total: â‚±${total}</p>
      <p>Status: Confirmed âœ…</p>
      <p>Date: ${new Date().toLocaleString()}</p>
    </div>`;
  document.getElementById("receipt").innerHTML = receipt;
  cart = [];
  renderCart();
}

// Refund popup
function refundOrder() {
  const refundId = "RF-" + Math.floor(Math.random() * 100000);
  const popup = document.createElement("div");
  popup.style.position = "fixed";
  popup.style.top = "0";
  popup.style.left = "0";
  popup.style.width = "100%";
  popup.style.height = "100%";
  popup.style.background = "rgba(0,0,0,0.5)";
  popup.style.display = "flex";
  popup.style.alignItems = "center";
  popup.style.justifyContent = "center";
  popup.innerHTML = `
    <div style="background:white;padding:1.5rem;border-radius:12px;max-width:350px;text-align:center;">
      <h3>Refund Confirmation</h3>
      <p>Your refund request has been submitted successfully ðŸ’š</p>
      <p>Reference ID: <strong>${refundId}</strong></p>
      <button onclick="this.parentElement.parentElement.remove()" style="margin-top:10px;background:var(--green);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;">OK</button>
    </div>`;
  document.body.appendChild(popup);
}

// --- AI Chat Section ---
const chatBox = document.getElementById("chatBox");
const chatInput = document.getElementById("chatInput");

function appendChat(sender, text) {
  const p = document.createElement("p");
  p.innerHTML = `<strong>${sender === "user" ? "You" : "EcoFix Assistant"}:</strong> ${text}`;
  chatBox.appendChild(p);
  chatBox.scrollTop = chatBox.scrollHeight;
}

function aiResponse(msg) {
  msg = msg.toLowerCase();
  if (msg.includes("price")) return "Our materials range from â‚±180â€“â‚±350. You can see details in the Shop page.";
  if (msg.includes("refund")) return "You can request a refund from the Orders section below your receipt.";
  if (msg.includes("order")) return "Once you confirm your order, your receipt will appear instantly on this page.";
  if (msg.includes("hello") || msg.includes("hi")) return "Hello! How can I help you today?";
  return "I'm here to assist with your eco-friendly repair needs!";
}

function sendChat() {
  const userMsg = chatInput.value.trim();
  if (!userMsg) return;
  appendChat("user", userMsg);
  chatInput.value = "";

  // Remove old typing indicator
  const oldDots = document.getElementById("typingDots");
  if (oldDots) oldDots.remove();

  // Add typing animation
  const dots = document.createElement("div");
  dots.id = "typingDots";
  dots.innerHTML = "<span class='typing-dot'></span><span class='typing-dot'></span><span class='typing-dot'></span>";
  chatBox.appendChild(dots);
  chatBox.scrollTop = chatBox.scrollHeight;

  setTimeout(() => {
    dots.remove();
    const reply = aiResponse(userMsg);
    appendChat("ai", reply);
  }, 800);
}
</script>

</body>
</html>
